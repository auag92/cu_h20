function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 13-Nov-2016 18:10:32.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx84 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.750981548895176;0.7457730988833;0.722707829472603;7.19746634477717;7.44951851679395;8.40998298358475;5.9373904615495;6.70665520644263;6.25249116098032;5.21614638100313;5.49145346633785;6.79012313677197;5.078951491392;5.95448577185663;5.39076918019321;3.75253391138761;4.09167850188966;5.65979413737019;2.99962510205359;4.23824882593991;3.34621081126817;3.17306174132398;3.70154937627489;5.35265628905892;1.62530825862358;3.27632667022902;2.37958015227771;1.28040530215319;1.96541291858327;4.1226432084448;7.88521503248028;8.1788487473002;8.95432307324356;6.3581439433289;6.8748539920183;6.33724954935033;5.22109867879137;5.2869675189459;6.43105314399135;5.81036620728341;6.68004416019834;5.87599044110021;4.44739574653223;4.53047323068573;5.78756824600687;2.82777867586026;3.82361312935213;2.8191928528829;3.61811366493895;4.36626964170572;5.612974103763;2.64236625728531;3.64564048700115;2.67514403057723;1.20519453258426;1.44142251593938;3.50358918872376;7.71536485441862;7.6021155312309;8.36482937175152;6.55174475829012;6.93881244584007;7.11398387633462;5.93561634685919;6.33641845109278;7.16816498228173;5.36591335967895;5.83221955728212;6.02681656087233;4.56174855395922;4.37584042050564;5.59698036927646;3.81573957033614;4.57011512425551;3.95400447305728;3.54648149863636;3.46176503498678;4.91655535826151;2.07617518315507;3.07448884065856;3.28790562676683;1.52620414944692;2.21297358290175;3.74740163462218];
x1_step1.gain = [0.746504243345983;1.26223287274873;1.14828383665745;0.457692831377528;0.447792782460567;0.442487863698789;0.453402777030528;0.449581110434127;0.491863621498126;0.490343191020488;0.464732716040075;0.471279725349069;0.445201062661358;0.444565088565755;0.443611711683682;0.470317148404909;0.44659432177479;0.46097876906294;0.474536025309712;0.478978643605493;0.530423861701212;0.425621941648572;0.456814129937211;0.470938956276062;0.44636503423583;0.4705529737056;0.485916578939811;0.557692295545804;0.501401554617977;0.535579235615356;0.630514438328021;0.657179618977796;0.650406160479762;0.627866965362093;0.619058591194642;0.59034347284457;0.632566747587472;0.602904796085175;0.550626368839302;0.611200289716383;0.667973679386534;0.58921214874846;0.677831532863478;0.64083845336565;0.589244838501488;0.607411979011406;0.545990544743619;0.555767187076023;0.543736715943578;0.622223463046281;0.570872533899249;0.71366835227093;0.620252288572977;0.644769545368744;0.710017136262222;0.546616183110971;0.529199187362838;0.614965813181004;0.511077346300094;0.463773212181513;0.643458286292308;0.531900215404845;0.737070086362095;0.7607431119108;0.733592485330893;0.60034127893684;0.519049152400492;0.447385990547904;0.628536693382423;0.707014508112455;0.526234198941551;0.482172028512778;0.762049903976603;0.598135231697453;0.729649138322426;0.551855410111592;0.431860754264269;0.420051963932511;0.534101920149544;0.460695813171385;0.790578745653633;0.739022529135209;0.604378830514263;0.516488075326931];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.5159865166976942;-0.50273962812758033;-0.62722199358305331;-0.3580462300688585;0.66219037833266658];
IW1_1 = [0.14854735512843553 -0.12399127280723968 -1.5533528305465709 -2.1645943648249912 -0.51647109027489024 -1.3842911297227658 0.2182588077066614 0.43468250889839194 -2.9687876428850983 0.59777558618201398 1.0513584219845824 1.2823772079437994 0.85871101844635789 0.1638897943395547 -3.7143033567870543 1.7554406607963702 1.362045118393054 -0.39613157006839689 -0.77575986244058437 1.0151455898572619 2.2651300017129716 2.4982972516528807 1.8694459465363651 -3.0290475664440044 1.8582510487247097 -1.4083322250845978 1.7630831678887739 -2.7254664632795005 -1.4587635106301036 1.43759837352214 -0.0041148003175161792 0.076971883024729071 0.97973089675247305 -0.81422798894096482 -0.65061126697342064 0.88271285470701244 1.4969375830039418 -1.3232668223778681 -0.6505048129359785 -0.9716287058640658 0.15126092621690859 -1.0798727962957924 -1.4003505804438674 -1.365451198830036 0.25739570314894822 1.0026917405579612 -1.8385132108983731 2.8430310162043941 2.4923151191038202 0.37668649666218612 1.0930731541787402 1.3339305165805257 -2.3993107681901278 -1.3665491518361252 -0.36987122016552942 0.83674175009568419 2.7343860495838186 -0.46390460094547675 -0.022951929390892519 0.093080206351645212 0.61149690979584903 0.069939948387690021 -0.37216316870447391 0.59850526933860115 -0.19774371050124279 0.32999015001866644 0.023648500779199427 -0.39842302336122837 -0.82595758945061537 2.7449771756530539 0.044028436664669719 -0.52397276769445378 -1.1847329128881388 -1.5693178956591425 -1.1640435056865108 1.2223345006364106 -0.86782198784456832 -0.43535474022022486 2.1697812783338248 -0.94399162371501144 -1.1606478402000748 1.1687166127030133 -0.53570825222746787 0.72370638301640833;0.15316995235600772 -0.58452450913980147 0.096036794586472768 -0.68686224084494907 -1.529941489451935 -1.300786697450536 -1.6945905347590167 -1.8325801380440125 0.65053322588306706 -1.4768118561409167 -2.3496249331290024 -1.8645136063089212 -0.0090493879538627725 -0.22215876759615946 1.6250910146073547 -0.68045421539723816 -0.51397277060067814 -0.14925087067944032 1.99347831171125 0.78263071091598391 4.9392006796102068 1.6860188789041721 3.1826686977028307 1.2596416240883253 -0.25910592964880563 -1.2609846363698753 -1.619264049680641 -0.76235698115467154 0.29389979057311993 3.3890934266578401 -0.26736060004224182 -0.42599646142286102 -1.7132516997163389 0.23936388936126446 -0.61257286123701526 -1.1422784220372892 -0.49186942139970408 -0.46673141743554331 -3.3943438731172333 0.79110857236468146 0.36038225445852418 0.096818144565731845 0.77447713826800357 1.5207122076578958 0.34232589494839649 5.9760289090565797 1.2629149864760743 -0.033491904218100825 -2.1060493331919594 -0.66938983002019736 0.59596772990203173 -1.5773912450069407 2.9129780111918828 2.1106644022899719 -1.6272086301492554 -3.1800901560948409 0.7399015007057389 0.34171228003524412 -0.92011658195033863 -2.1306119862012527 0.66031185581711938 -0.21676630998057914 3.6210315627615737 -0.19554476704190588 -1.2028496860925095 -0.24086631227485744 0.51308230814946765 -1.205672751012647 0.73313244184870807 0.28927662227750328 1.7063442431777098 -0.48534947232262632 -2.928725910205594 -1.7323318891123525 0.91701192608890314 -0.99914099595008943 0.42346826410440025 -4.4639718885756912 5.4235658449503941 1.9935212682040038 -3.138253779901063 -2.2325497673644943 4.4998418882485796 0.14311134127822533;-0.18179589626604384 0.18434485982812243 1.1786176078936386 0.54276683562639993 0.96279833934045322 -0.97053779246530925 -0.18071495449882294 -1.1716045261720776 -2.8118183137765662 -1.1047223835826179 -1.3353785519478665 -3.2731045084765031 3.0805871612919002 1.8908598687943368 0.33689269081021567 2.8122312245759589 1.4224943753674628 -1.412626181394437 0.99254595564217929 0.4334135322652265 4.2769369827099917 2.4969279774182573 0.88432250066621942 0.15893051150739909 -3.964149052505233 -2.7774480029022373 -3.8292950050791261 -0.36332379134251042 0.49818279391677384 3.5408597373782844 -0.035961059140413053 1.4636627107535802 1.4643566450568166 0.038822288854701341 1.7836667703171136 -0.72080320531511088 -1.4175495070481428 -0.88871898659194837 -2.0211140206060185 -1.1247520955251593 2.257460424151839 -3.2128703196943507 -1.9013884979730544 4.0075487435932455 2.8672044566225483 -0.658104340548049 0.37369196487247069 -0.25960854110790754 -2.134472769074049 -1.8738918004354714 -1.2669762605832335 -1.1504574468175353 0.73265330042653132 3.5902701088512594 0.12552302409092939 1.6620350983044612 -5.4130825845770678 0.60391317050653881 0.13336714763486085 -0.43124607873004561 0.54814387119861974 -0.33452296729945236 -0.11964852857656294 2.4979125739741921 1.2090363303488671 0.69226192826413546 -0.088350877770926817 -0.78622071241355829 0.52348678474483468 1.2355308633532469 -1.1298620071790242 -1.5374203420792474 -1.5392553278099852 -0.17385417323188063 -2.8869782750506991 3.5565664060191673 -0.67058845785291099 -0.26441310482295766 -0.88517978567739308 -1.1117544455981823 -2.8771735369170952 1.7497557323499799 0.12976559469868618 1.2137452332500929;0.072048324653766982 -0.069249588474121049 0.17746268955974109 -1.4634091470252457 -0.1628026294730239 2.0653291253360289 0.06440124950733872 0.97458551670898341 -1.0361563124718294 0.66736072693835002 0.44425797415423895 1.7444614498687046 -0.49743667960835924 -0.19109932816308048 -0.86721676782944013 -0.08791655943733169 -0.98521779004193377 1.2646185897570223 3.4537276054507555 -0.82895060268224607 -1.2130478201806145 2.6659001997523575 -1.271958970333706 0.58456475069195579 0.28011380812563641 -3.4786188061514141 0.95965732857328323 -1.5998453618680708 -0.90519968607750267 -0.49669559909913663 -0.32206772097658182 0.56865059448098876 0.62166964533379043 1.2320199011163215 0.99975593900499571 -0.54018420771008768 -0.59122288741576812 -1.1347476396474385 -0.88736936168612646 1.1295387251587761 0.55431482181557568 -1.0340653953938468 1.4665414226626055 0.89745193122909539 0.79163855705356079 -1.4939943680341112 -0.67560701953671154 -0.54326243945053998 -1.904051509265076 -1.8108278296503209 -0.0036222102533393862 0.19651790685769319 -1.908703545384455 1.0008395203892675 -0.43911990095824366 3.0969319478885029 -1.1016406100884146 0.073843507703369865 1.0511717819275779 2.0597993085382149 -0.11113449975624953 1.4264136334377431 -0.84909369795281764 -2.1368069627967721 0.19362041704601121 3.0913709845009913 1.412171834493966 1.2627965473426992 0.48317850086891651 -1.9634616848850734 -0.15703084770718395 1.4350915303849074 -1.263279565371791 -0.85404114208610904 0.016229634047470812 1.4256563773666147 0.71324661061923578 -0.24418859545308622 -4.1790571018790628 -1.7378181919808908 -1.0804754187852541 5.3154824421435141 -2.9014324271538392 -0.16029906312321626;0.4407857629196188 -1.0148887279431813 0.025374215113529067 -0.70550419325517921 -0.4347436894261929 -1.2234220860273768 -0.040160747996738924 -0.021041747145623246 -2.0057207014824612 -0.47357809839657505 1.1170543907743 0.061414252441713064 0.37471636468186276 -0.086033486468618803 -0.26352710073096497 0.23894881455494527 1.231757603741098 -0.07954433949197913 2.7844480729106671 1.3671483451388935 -2.0409229725208902 2.0694569776075866 0.10768993347071973 -1.1375969919393019 -1.9350887636460685 0.47701184269806368 2.3039186873062176 0.089597483786884896 -2.3569867450306692 0.64661061957767985 0.39086423061180425 -0.32459506399504351 -1.4315000740336419 0.70540661851778952 -0.053355543360274447 1.3010319744539089 -2.3720283161886919 -1.5536987419708708 -2.1334005437666921 0.084452305537190908 -0.2106317262942741 0.5956415577582137 3.3827540610145115 3.5802159978456376 0.82042946015108786 3.9554863189556748 0.18456976648194817 -2.1546997133167052 -1.6131704029297023 -1.9489666236491223 -2.303287848148015 -1.8828098524933508 1.1716266359218219 1.619611250576483 -1.8259108607808845 -1.2390884054340121 2.8657362486205407 1.707346519940014 0.94490672495539585 0.33605241086405035 1.0943045466751069 -0.00079491696702240454 2.2495306175765362 -0.85177946422688489 -2.9244418267688133 -3.8924509730291157 0.043274907071370557 0.98499928704673256 0.45142991436324403 2.1946875309152021 1.332445886504547 0.88892101737267237 -2.4826927262278993 -0.87032152546891384 0.82104053628166018 -5.0761684058376453 -0.33139366546999616 2.2772806383074311 -1.703510178038502 3.3014156087236097 -2.111406160398607 2.4634591335431244 0.87194517728966492 0.86242339358763775];

% Layer 2
b2 = -4.9548815133115909;
LW2_1 = [9.2887075321851054 -11.390776977691372 14.619981693789619 -14.785107295878216 9.5410472998844309];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 2;
y1_step1.xoffset = 0.129753974785955;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
